# Оформление строчных блоков кода

Когда я работал над [новой версией моего сайта](:the-new-version-of-this-site), я пытался побольше думать о том, как всё будет выглядеть и читаться с точки зрения типографики. Одной из вещей, с которой у меня всегда были проблемы — как оформлять строчные блоки кода. Чаще всего на их месте мы видим маленькие разноцветные моноширинные прямоугольники. И чем больше ими набиваешь текст, тем хуже становится его читабельность.

![Скриншот из Википедии](example.png "*Пример взят из [статьи в Википедии о CSS](https://en.wikipedia.org/wiki/Cascading_Style_Sheets#Selector). Поглядите на все эти разноцветные прямоугольники. Кроме того, заметьте, что в тексте есть несколько мест, где можно было бы разметить строчными блоками кода те или иные слова. Возможно, этого не было сделано как раз из-за того, что они тогда добавили бы ещё больше визуального шума.")

Что, если это слишком часто используемое оформление строчных блоков кода — излишне?

Подумайте об этом: большинство качеств этого оформления приходит от полноценных многострочных блоков кода. Но точно ли нам нужны все эти стили в строчном контексте?

Нужен ли нам тут моноширинный шрифт? Неа. Моноширинность полезна тогда, когда у нас есть несколько строк, внутри которых нам нужно выравнивать символы друг относительно друга определённым образом. Но внутри обычного текста? Нам это не нужно. Уходи, моноширинный шрифт.

Нужны ли нам какие-то бордеры или цвет фона? Вряд ли. На больших блоках кода они выглядят нормально, но в строчном контексте подобное оформление очень сильно выпячивает наши строчные блоки, делая их слишком **жирными**. А это, в свою очередь, ухудшает читаемость текста, так как глаз начинает спотыкаться, обращать внимание на эти яркие пятна ещё до того, как вы прочитаете весь текст.

Нужна ли нам здесь подсветка синтаксиса? Сомневаюсь. Она полезна когда у нас есть много кода и нам нужно отделить одни конструкции в нём от других, но когда у нас есть только несколько слов, а то и совсем одинокие — подсветка становится излишней и ничего нам не даст кроме ненужного привлечения внимания. Так что вполне можно выкинуть такую подсветку вовсе.


## Моё решение

Итак, если все эти стили излишние, а то и вредные для нашего текста, что нам использовать вместо них? После обдумывания всех этих проблем, я решил вспомнить о том, как же оформляют похожие сущности в обычных книгах. И, оказывается, что когда доходит дело до ненавязчивого выделения небольших фрагментов текста, решение очевидно. _Курсив_.

![Исправленный скриншот из Википедии](solution.png "*Моя версия примера выше, теперь хоть читается как текст. Нижние строчные блоки кода, с полными CSS-правилами, в принципе, в чём-то выигрывали от подсветки, так что, возможно, стоит в таких местах её возвращать, но уж точно не такой яркой, как она была до этого.")

Итак, почему бы не использовать курсив и для оформления строчных блоков кода? Посмотрите: [_font-style: italic_](*semantics "Прямо тут я использовал `<em>`, так как этот текст может оказаться, например, в RSS-читалке, то есть там, где вы, скорее всего, не увидите стилий, специфичных для моего блога.") — достаточно ненавязчиво? На мой взгляд, выглядит вполне неплохо.

Курсив достаточно отделяет код от остального текста, в большинстве случаев можно вообще больше ничего не добавлять. Самый простой способ сделать такие блоки кода следующий:

``` styl
:not(pre) > code {
    font: inherit;
    font-style: italic;
}
```

Этим мы сделаем наши стандартные моноширинные блоки кода стандартным курсовом. Обратите внимание на `:not(pre)` — если размечать большие блоки кода с помощью `<pre><code>`, этот селектор к ним не применится. Конечно, если вы используете какую-то подсветку синтаксиса, вам надо будет её отключить (или переопределить её стили) для строчных блоков кода. В некоторых случаях, когда вы используете отдельный шрифт для курсивного начертания, а в вашем веб-шрифте его нет, вам надо будет это начертание доопределить и для блоков кода, иначе вы получите псевдо-курсив.

У этого метода есть и свои недостатки, вроде того, что, очевидно, подобные строчные блоки кода визуально будут смешиваться с _обычным выделением_, но в большинстве случаев читатели смогут понять разницу из контекста.

## Да, это всё субъективно

В целом, это, конечно, дело стиля — как вы будете оформлять свои строчные блоки кода. Иногда вы можете и желать того, чтобы они выпячивались и привлекали внимание читателей. Но если вы используете их довольно часто, то вы сможете купить немного читабельности для вашего текста, если будете использовать менее навязчивые стили.
