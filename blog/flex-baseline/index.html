<!DOCTYPE html>
<html lang="ru" class="Page Page_post Page_ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Битва за базовую линию</title>
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="http://feeds.feedburner.com/kizu">
    <link rel="alternate" hreflang="en" href="http://kizu.ru/en/blog/flex-baseline/">
    <link rel="alternate" hreflang="ru" href="http://kizu.ru/blog/flex-baseline/">
    <link rel="stylesheet" href="/s/style.css">
    <link rel="preload" href="/s/extras2.css" as="style" onload="this.rel='stylesheet'">
  </head>
  <body class="Page-Body">
    <header class="Page-Header">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <h1 class="Page-Title"><a href="/" class="Page-Title-Link">Роман Комаров</a>
          </h1>
          <ul class="Page-Languages">
            <li class="Page-Language"><a data-short="en" href="/en/blog/flex-baseline/" class="Page-Language-Link">in English</a>
            </li>
            <li data-short="ru" class="Page-Language is-current">по-русски
            </li>
          </ul>
        </div>
      </div>
    </header>
    <article role="main" class="Page-Content">
      <div class="LiquidLayout">
        <div class="Main LiquidLayout-Content">
          <header><h1 class="Heading" id="битва-за-базовую-линию"><a class="Anchor" aria-hidden="true" href="#битва-за-базовую-линию"></a><span class="ss01 hang-m">Б</span>итва за ба<span class="shy"></span>зо<span class="shy"></span>вую ли<span class="shy"></span>нию</h1>
          </header>
<p><img src="flex-baseline.jpg" width="756" height="478" alt="Котики"></p>
<p>Ко<span class="shy"></span><span class="nobr">гда-то</span> наи<span class="shy"></span>луч<span class="shy"></span>шим ре<span class="shy"></span>ше<span class="shy"></span>ни<span class="shy"></span>ем для ин<span class="shy"></span>лай<span class="shy"></span>но<span class="shy"></span>вых бло<span class="shy"></span>ков были, ну, ин<span class="shy"></span>лайн-бло<span class="shy"></span>ки. Мне они очень нра<span class="shy"></span>вят<span class="shy"></span>ся за то, что с их по<span class="shy"></span>мо<span class="shy"></span>щью мож<span class="shy"></span>но ре<span class="shy"></span>шить мно<span class="shy"></span>же<span class="shy"></span>ство за<span class="shy"></span>дач. Но и они не все<span class="shy"></span>мо<span class="shy"></span>гу<span class="shy"></span>щи. Они не уме<span class="shy"></span>ют пра<span class="shy"></span>виль<span class="shy"></span>но ра<span class="shy"></span>бо<span class="shy"></span>тать с вер<span class="shy"></span>ти<span class="shy"></span>каль<span class="shy"></span>ным вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ни<span class="shy"></span>ем тек<span class="shy"></span>ста по ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>нии шриф<span class="shy"></span>та. При<span class="shy"></span>чём про<span class="shy"></span>бле<span class="shy"></span>ма сле<span class="shy"></span>ду<span class="shy"></span>ет уже из <a class="Link" href="http://www.w3.org/TR/CSS2/visudet.html#propdef-vertical-align">спе<span class="shy"></span>ци<span class="shy"></span>фи<span class="shy"></span>ка<span class="shy"></span>ции</a> (см. по<span class="shy"></span>след<span class="shy"></span>ний аб<span class="shy"></span>зац):</p>
<ol>
<li><p>Для мно<span class="shy"></span>го<span class="shy"></span>строч<span class="shy"></span>ных ин<span class="shy"></span>лайн-бло<span class="shy"></span>ков <em>ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>ни<span class="shy"></span>ей</em> яв<span class="shy"></span>ля<span class="shy"></span>ет<span class="shy"></span>ся ба<span class="shy"></span>зо<span class="shy"></span>вая ли<span class="shy"></span>ния <strong>по<span class="shy"></span>след<span class="shy"></span>не<span class="shy"></span>го</strong> строч<span class="shy"></span>но<span class="shy"></span>го бок<span class="shy"></span>са в обыч<span class="shy"></span>ном по<span class="shy"></span>токе.</p>
</li>
<li><p>Если внут<span class="shy"></span>ри ин<span class="shy"></span>лайн-бло<span class="shy"></span>ка нет бок<span class="shy"></span>сов обыч<span class="shy"></span>но<span class="shy"></span>го по<span class="shy"></span>то<span class="shy"></span>ка, или же у ин<span class="shy"></span>лайн-бло<span class="shy"></span>ка сто<span class="shy"></span>ит <code>over<span class="shy"></span>flow</code> от<span class="shy"></span>лич<span class="shy"></span>ный от <code>vis<span class="shy"></span>i<span class="shy"></span>ble</code>, то <em>ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>ни<span class="shy"></span>ей</em> ста<span class="shy"></span>но<span class="shy"></span>вит<span class="shy"></span>ся ниж<span class="shy"></span>няя гра<span class="shy"></span>ни<span class="shy"></span>ца блока.</p>
</li>
</ol>
<p><span class="nobr">Из-за</span> этих про<span class="shy"></span>блем по<span class="shy"></span>лу<span class="shy"></span>чит<span class="shy"></span>ся вы<span class="shy"></span>ров<span class="shy"></span>нять по ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>нии толь<span class="shy"></span>ко од<span class="shy"></span>но<span class="shy"></span>строч<span class="shy"></span>ные бло<span class="shy"></span>ки без за<span class="shy"></span>дан<span class="shy"></span>но<span class="shy"></span>го <code>over<span class="shy"></span>flow</code>, то<span class="shy"></span>гда как в лю<span class="shy"></span>бых бо<span class="shy"></span>лее слож<span class="shy"></span>ных слу<span class="shy"></span>ча<span class="shy"></span>ях по<span class="shy"></span>лу<span class="shy"></span>чит<span class="shy"></span>ся со<span class="shy"></span>всем не то, что мо<span class="shy"></span>жет быть нужно.</p>
<p>Вот при<span class="shy"></span>мер: все три бло<span class="shy"></span>ка име<span class="shy"></span>ют <code>dis<span class="shy"></span>play: in<span class="shy"></span>line-block</code>. Пер<span class="shy"></span>вый<span class="nobr"> —</span><span class="thinsp"> </span>обыч<span class="shy"></span>ный од<span class="shy"></span>но<span class="shy"></span>строч<span class="shy"></span>ный и с боль<span class="shy"></span>шим пад<span class="shy"></span>дин<span class="shy"></span>гом, вто<span class="shy"></span>рой<span class="nobr"> —</span><span class="thinsp"> </span>мно<span class="shy"></span>го<span class="shy"></span>строч<span class="shy"></span>ный, но с мень<span class="shy"></span>шим раз<span class="shy"></span>ме<span class="shy"></span>ром шриф<span class="shy"></span>та, тре<span class="shy"></span>тий<span class="nobr"> —</span><span class="thinsp"> </span>од<span class="shy"></span>но<span class="shy"></span>строч<span class="shy"></span>ный, но с <code>over<span class="shy"></span>flow: auto</code>.</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline1_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline1"><label class="Demo-Toggler" for="Demo_flex-baseline1_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline1.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>

.baseline-wrapper {
    overflow: auto;
    white-space: nowrap;
    line-height: 1.5;
    }

.baseline-wrapper:before,
.baseline-wrapper:after {
    content: "";
    position: relative;

    display: inline-block;

    height: 1px;
    width: 100%;
    margin-right: -100%;

    background: blue;
    }

.baseline-wrapper:after {
    margin: 0 0 0 -100%;
}


.inline-block {
    display: inline-block;

    vertical-align: baseline;

    padding: 10px;
    border: 1px solid lime;
    }
</style>

<div class="baseline-wrapper">
    <div class="inline-block" style="padding: 20px">
        I'm an inline-block
    </div>

    <div class="inline-block" style="font-size: 0.8em">
        I'm an inline-block<br/>
        With a second line
    </div>

    <div class="inline-block" style="width: 7em; overflow: auto;">
        I'm an inline-block with an overflow auto
    </div>
</div>
</div></div>
<p>На этом при<span class="shy"></span>ме<span class="shy"></span>ре <span class="Sidenote-Wrapper"><a class="Sidenote-Context" href="#safari" id="safari">хо<span class="shy"></span>ро<span class="shy"></span>шо вид<span class="shy"></span>но</a><span class="Sidenote" role="note"><span class="Sidenote-Misc"> (</span>Кста<span class="shy"></span>ти, в по<span class="shy"></span>след<span class="shy"></span>них Са<span class="shy"></span>фа<span class="shy"></span>ри, вне<span class="shy"></span>зап<span class="shy"></span>но, блок с over<span class="shy"></span>flow ве<span class="shy"></span>дёт себя не по спе<span class="shy"></span>ци<span class="shy"></span>фи<span class="shy"></span>ка<span class="shy"></span>ции<span class="Sidenote-Misc">)</span></span><a class="Sidenote-Close" href="#x" aria-hidden="true" tabindex="-1"></a></span>, где у ка<span class="shy"></span>ко<span class="shy"></span>го бло<span class="shy"></span>ка на<span class="shy"></span>хо<span class="shy"></span>дит<span class="shy"></span>ся ба<span class="shy"></span>зо<span class="shy"></span>вая линия.</p>
<h2 class="Heading" id="inline-table"><a class="Anchor" aria-hidden="true" href="#inline-table"></a>in<span class="shy"></span>line-table</h2>
<p>В <abbr>CSS</abbr> было одно ме<span class="shy"></span>сто, где вер<span class="shy"></span>ти<span class="shy"></span>каль<span class="shy"></span>ное вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ние ра<span class="shy"></span>бо<span class="shy"></span>та<span class="shy"></span>ло <em>пра<span class="shy"></span>виль<span class="shy"></span>но</em><span class="nobr"> —</span><span class="thinsp"> </span><code>dis<span class="shy"></span>play: in<span class="shy"></span>line-table</code>. За<span class="shy"></span>ме<span class="shy"></span>ня<span class="shy"></span>ем ин<span class="shy"></span>лайн-бло<span class="shy"></span>ки на него и по<span class="shy"></span>лу<span class="shy"></span>ча<span class="shy"></span>ем, ка<span class="shy"></span>за<span class="shy"></span>лось бы, то, что нужно:</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline2_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline2"><label class="Demo-Toggler" for="Demo_flex-baseline2_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline2.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>

.inline-table {
    display: inline-table;
    table-layout: fixed;

    vertical-align: baseline;

    padding: 10px;
    border: 1px solid lime;
    }
</style>

<div class="baseline-wrapper">
    <div class="inline-table" style="padding: 20px">
        I'm an inline-table
    </div>

    <div class="inline-table" style="font-size: 0.8em">
        I'm an inline-table<br/>
        With a second line
    </div>

    <div class="inline-table" style="width: 7em; overflow: auto;">
        I'm an inline-table with an overflow auto
    </div>
</div>
</div></div>
<p>Но тут сра<span class="shy"></span>зу вид<span class="shy"></span>но: не ра<span class="shy"></span>бо<span class="shy"></span>та<span class="shy"></span>ет over<span class="shy"></span>flow: auto. К тому же та<span class="shy"></span>ко<span class="shy"></span>му бло<span class="shy"></span>ку нуж<span class="shy"></span>но за<span class="shy"></span>да<span class="shy"></span>вать <code>table-lay<span class="shy"></span>out: fixed</code>. По<span class="shy"></span>лу<span class="shy"></span>ча<span class="shy"></span>ет<span class="shy"></span>ся иде<span class="shy"></span>аль<span class="shy"></span>но, если не ну<span class="shy"></span>жен <code>over<span class="shy"></span>flow: auto</code>.</p>
<h2 class="Heading" id="trying-flex"><a class="Anchor" aria-hidden="true" href="#trying-flex"></a><span class="ss01 hang-m">П</span>ро<span class="shy"></span>бу<span class="shy"></span>ем флек<span class="shy"></span>с<span class="shy"></span>боксы</h2>
<p>Мож<span class="shy"></span>но ли сде<span class="shy"></span>лать блок со скролл<span class="shy"></span>ба<span class="shy"></span>ром, ко<span class="shy"></span>то<span class="shy"></span>рый бу<span class="shy"></span>дет пра<span class="shy"></span>виль<span class="shy"></span>но вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>вать<span class="shy"></span>ся? Тут на по<span class="shy"></span>мощь спе<span class="shy"></span>шат флек<span class="shy"></span>с<span class="shy"></span>бок<span class="shy"></span>сы, точ<span class="shy"></span>нее, <code>dis<span class="shy"></span>play: in<span class="shy"></span>line-flex</code>. В <a class="Link" href="http://www.w3.org/TR/css3-flexbox/#flex-baselines">тео<span class="shy"></span>рии</a> они та<span class="shy"></span>к<span class="shy"></span>же име<span class="shy"></span>ют пра<span class="shy"></span>виль<span class="shy"></span>ное по<span class="shy"></span>ло<span class="shy"></span>же<span class="shy"></span>ние ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>нии, но что мы по<span class="shy"></span>лу<span class="shy"></span>ча<span class="shy"></span>ем на прак<span class="shy"></span>тике?</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline3_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline3"><label class="Demo-Toggler" for="Demo_flex-baseline3_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline3.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>

.inline-flex {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    vertical-align: baseline;

    padding: 10px;
    border: 1px solid lime;
    }
</style>

<div class="baseline-wrapper">
    <div class="inline-flex" style="padding: 20px">
        I'm an inline-flex
    </div>

    <div class="inline-flex" style="font-size: 0.8em">
        I'm an inline-flex<br/>
        With a second line
    </div>

    <div class="inline-flex" style="width: 7em; overflow: auto;">
        I'm an inline-flex with an overflow auto
    </div>
</div>
</div></div>
<p>Если вы по<span class="shy"></span>смот<span class="shy"></span>ри<span class="shy"></span>те на этот при<span class="shy"></span>мер в лю<span class="shy"></span>бом бра<span class="shy"></span>у<span class="shy"></span>зе<span class="shy"></span>ре кро<span class="shy"></span>ме Fire<span class="shy"></span>fox (да, даже в IE 10 и 12-й Опе<span class="shy"></span>ре), то вы ви<span class="shy"></span>ди<span class="shy"></span>те идель<span class="shy"></span>но вы<span class="shy"></span>ров<span class="shy"></span>нен<span class="shy"></span>ные блоки.</p>
<p>Но в Fx блок с <code>over<span class="shy"></span>flow: auto</code>, вне<span class="shy"></span>зап<span class="shy"></span>но, ра<span class="shy"></span>бо<span class="shy"></span>та<span class="shy"></span>ет ана<span class="shy"></span>ло<span class="shy"></span>гич<span class="shy"></span>но ин<span class="shy"></span>лайн-бло<span class="shy"></span>ку: те<span class="shy"></span>ря<span class="shy"></span>ет ба<span class="shy"></span>зо<span class="shy"></span>вую ли<span class="shy"></span>нию. Грусть, пе<span class="shy"></span>чаль, разо<span class="shy"></span>ча<span class="shy"></span>ро<span class="shy"></span>ва<span class="shy"></span>ние, ждём ис<span class="shy"></span>прав<span class="shy"></span>ле<span class="shy"></span>ния <a class="Link" href="https://bugzilla.mozilla.org/show_bug.cgi?id=969874">све<span class="shy"></span>же<span class="shy"></span>за<span class="shy"></span>ре<span class="shy"></span>пор<span class="shy"></span>чен<span class="shy"></span>но<span class="shy"></span>го бага</a>.</p>
<h2 class="Heading" id="another-way"><a class="Anchor" aria-hidden="true" href="#another-way"></a><span class="ss01 hang-xs">А</span> если иначе?</h2>
<p>Очень здо<span class="shy"></span>ро<span class="shy"></span>во, что <code>in<span class="shy"></span>line-flex</code> сам по себе пра<span class="shy"></span>виль<span class="shy"></span>но вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ет<span class="shy"></span>ся от<span class="shy"></span>но<span class="shy"></span>си<span class="shy"></span>тель<span class="shy"></span>но осталь<span class="shy"></span>ных бло<span class="shy"></span>ков, и, если бы не баг Fx, всё было бы со<span class="shy"></span>всем за<span class="shy"></span>ме<span class="shy"></span>ча<span class="shy"></span>тель<span class="shy"></span>но. Но что если мы по<span class="shy"></span>про<span class="shy"></span>бу<span class="shy"></span>ем вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>вать не раз<span class="shy"></span>ные <code>in<span class="shy"></span>line-flex</code> от<span class="shy"></span>но<span class="shy"></span>си<span class="shy"></span>тель<span class="shy"></span>но друг дру<span class="shy"></span>га, а эле<span class="shy"></span>мен<span class="shy"></span>ты внут<span class="shy"></span>ри флек<span class="shy"></span>с<span class="shy"></span>бокса?</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline4_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline4"><label class="Demo-Toggler" for="Demo_flex-baseline4_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline4.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>

.inline-flex-wrapper {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    -webkit-align-items: baseline;
    align-items: baseline;

    vertical-align: baseline;
    }

.inline-flex-item {
    padding: 10px;
    border: 1px solid lime;
    }
</style>

<div class="baseline-wrapper">
    <div class="inline-flex-wrapper">
        <div class="inline-flex-item" style="padding: 20px">
            I'm an inline-flex
        </div>

        <div class="inline-flex-item" style="font-size: 0.8em">
            I'm an inline-flex<br/>
            With a second line
        </div>

        <div class="inline-flex-item" style="width: 7em; overflow: auto;">
            I'm an inline-flex with an overflow auto
        </div>
    </div>
</div>
</div></div>
<p>Оп! Всё ра<span class="shy"></span>бо<span class="shy"></span>та<span class="shy"></span>ет! Вот толь<span class="shy"></span>ко… Если от<span class="shy"></span>дель<span class="shy"></span>ные бло<span class="shy"></span>ки с <code>in<span class="shy"></span>line-flex</code> сами по себе пе<span class="shy"></span>ре<span class="shy"></span>но<span class="shy"></span>сят<span class="shy"></span>ся на но<span class="shy"></span>вую стро<span class="shy"></span>ку, то для эле<span class="shy"></span>мен<span class="shy"></span>тов внут<span class="shy"></span>ри флек<span class="shy"></span>с<span class="shy"></span>бок<span class="shy"></span>са нам надо было бы при<span class="shy"></span>ме<span class="shy"></span>нять <code>flex-wrap</code>. Но Fire<span class="shy"></span>fox его не под<span class="shy"></span>дер<span class="shy"></span>жи<span class="shy"></span>вал до вер<span class="shy"></span>сии 28.0.</p>
<h2 class="Heading" id="combined"><a class="Anchor" aria-hidden="true" href="#combined"></a><span class="ss01 hang-m">В</span>сё вместе</h2>
<p>Так! Но ведь если <code>in<span class="shy"></span>line-flex</code> про<span class="shy"></span>ки<span class="shy"></span>ды<span class="shy"></span>ва<span class="shy"></span>ет свою ба<span class="shy"></span>зо<span class="shy"></span>вую ли<span class="shy"></span>нию на<span class="shy"></span>верх, а внут<span class="shy"></span>рен<span class="shy"></span>ний блок с <code>over<span class="shy"></span>flow: auto</code> та<span class="shy"></span>к<span class="shy"></span>же име<span class="shy"></span>ет пра<span class="shy"></span>виль<span class="shy"></span>ное вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ние даже в Fire<span class="shy"></span>fox, то мож<span class="shy"></span>но же сов<span class="shy"></span>ме<span class="shy"></span>стить! До<span class="shy"></span>ба<span class="shy"></span>вим в каж<span class="shy"></span>дый блок по до<span class="shy"></span>пол<span class="shy"></span>ни<span class="shy"></span>тель<span class="shy"></span>но<span class="shy"></span>му эле<span class="shy"></span>мен<span class="shy"></span>ту, да бу<span class="shy"></span>дем за<span class="shy"></span>да<span class="shy"></span>вать пад<span class="shy"></span>дин<span class="shy"></span>ги и over<span class="shy"></span>flow уже на них:</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline5_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline5"><label class="Demo-Toggler" for="Demo_flex-baseline5_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline5.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>


.combined-inline-flex {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    vertical-align: baseline;
    }

.combined-inline-flex-content {
    padding: 10px;
    border: 1px solid lime;
    }

</style>

<div class="baseline-wrapper">
    <div class="combined-inline-flex">
        <div class="combined-inline-flex-content" style="padding: 20px">
            I'm an inline-flex
        </div>
    </div>

    <div class="combined-inline-flex">
        <div class="combined-inline-flex-content" style="font-size: 0.8em">
            I'm an inline-flex<br/>
            With a second line
        </div>
    </div>

    <div class="combined-inline-flex" style="width: 7em;">
        <div class="combined-inline-flex-content" style="overflow: auto;">
            I'm an inline-flex with an overflow auto
        </div>
    </div>
</div>
</div></div>
<p>В нор<span class="shy"></span>маль<span class="shy"></span>ных бра<span class="shy"></span>у<span class="shy"></span>зе<span class="shy"></span>рах ни<span class="shy"></span>че<span class="shy"></span>го не по<span class="shy"></span>ме<span class="shy"></span>ня<span class="shy"></span>лось, те<span class="shy"></span>перь по<span class="shy"></span>смот<span class="shy"></span>рим на Fire<span class="shy"></span>fox… Так, блок уже вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ет<span class="shy"></span>ся не по ниж<span class="shy"></span>ней гра<span class="shy"></span>ни<span class="shy"></span>це, но и не по ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>нии. Хотя, из<span class="shy"></span>ме<span class="shy"></span>рим раз<span class="shy"></span>ни<span class="shy"></span>цу: 10 пик<span class="shy"></span>се<span class="shy"></span>лей. Это же наш пад<span class="shy"></span>динг! Уби<span class="shy"></span>ра<span class="shy"></span>ем пад<span class="shy"></span>дин<span class="shy"></span>ги по оче<span class="shy"></span>ре<span class="shy"></span>ди<span class="nobr"> —</span><span class="thinsp"> </span>всё вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>ва<span class="shy"></span>ет<span class="shy"></span>ся пра<span class="shy"></span>виль<span class="shy"></span>но, ко<span class="shy"></span>гда верх<span class="shy"></span>ний пад<span class="shy"></span>динг ста<span class="shy"></span>но<span class="shy"></span>вит<span class="shy"></span>ся ра<span class="shy"></span>вен нулю. Ага, зна<span class="shy"></span>чит Fx в этом слу<span class="shy"></span>чае всё де<span class="shy"></span>ла<span class="shy"></span>ет по<span class="shy"></span>чти вер<span class="shy"></span>но, вот толь<span class="shy"></span>ко всплыл но<span class="shy"></span>вый баг. Пока мы ждём <a class="Link" href="https://bugzilla.mozilla.org/show_bug.cgi?id=969880">его ис<span class="shy"></span>прав<span class="shy"></span>ле<span class="shy"></span>ния</a>, из<span class="shy"></span>ба<span class="shy"></span>вим<span class="shy"></span><span class="nobr">ся-ка</span> от пад<span class="shy"></span>дин<span class="shy"></span>га, за<span class="shy"></span>ме<span class="shy"></span>нив его на псев<span class="shy"></span><span class="nobr">до-элемент</span>:</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline6_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline6"><label class="Demo-Toggler" for="Demo_flex-baseline6_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline6.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>


.almost-final-flex {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    vertical-align: baseline;
    }

.almost-final-flex-content {
    padding: 0 10px 10px;
    border: 1px solid lime;
    }

.almost-final-flex-content:before {
    content: "";
    display: block;
    padding-top: 10px;
    }

.almost-final-flex:first-child > .almost-final-flex-content:before {
    padding-top: 20px;
    }

</style>

<div class="baseline-wrapper">
    <div class="almost-final-flex">
        <div class="almost-final-flex-content" style="padding: 0 20px 20px">
            I'm an inline-flex
        </div>
    </div>

    <div class="almost-final-flex">
        <div class="almost-final-flex-content" style="font-size: 0.8em">
            I'm an inline-flex<br/>
            With a second line
        </div>
    </div>

    <div class="almost-final-flex" style="width: 7em;">
        <div class="almost-final-flex-content" style="overflow: auto;">
            I'm an inline-flex with an overflow auto
        </div>
    </div>
</div>
</div></div>
<p>Иде<span class="shy"></span>ально!</p>
<h2 class="Heading" id="finishing-strokes"><a class="Anchor" aria-hidden="true" href="#finishing-strokes"></a><span class="ss01 hang-m">П</span>ослед<span class="shy"></span>ние штрихи</h2>
<p>Ну лад<span class="shy"></span>но, не иде<span class="shy"></span>аль<span class="shy"></span>но. Оста<span class="shy"></span>ёт<span class="shy"></span>ся пара ме<span class="shy"></span>ло<span class="shy"></span>чей, ко<span class="shy"></span>то<span class="shy"></span>рые мо<span class="shy"></span>гут про<span class="shy"></span>явить<span class="shy"></span>ся в де<span class="shy"></span>ся<span class="shy"></span>том IE и в две<span class="shy"></span>на<span class="shy"></span>дца<span class="shy"></span>той Опере.</p>
<p>В IE при за<span class="shy"></span>дан<span class="shy"></span>ной ши<span class="shy"></span>рине флек<span class="shy"></span>с<span class="shy"></span>бок<span class="shy"></span>са текст внут<span class="shy"></span>ри него не бу<span class="shy"></span>дет вра<span class="shy"></span>пать<span class="shy"></span>ся, даже если не бу<span class="shy"></span>дет сто<span class="shy"></span>ять <code>white-space: nowrap</code>. До<span class="shy"></span>воль<span class="shy"></span>но стран<span class="shy"></span>ный баг, об<span class="shy"></span>хо<span class="shy"></span>дит<span class="shy"></span>ся либо до<span class="shy"></span>бав<span class="shy"></span>ле<span class="shy"></span>ни<span class="shy"></span>ем внут<span class="shy"></span>рен<span class="shy"></span>не<span class="shy"></span>му бло<span class="shy"></span>ку яв<span class="shy"></span>ной ши<span class="shy"></span>ри<span class="shy"></span>ны в 100%, либо, что пра<span class="shy"></span>виль<span class="shy"></span>нее, <code>-ms-flex-neg<span class="shy"></span>a<span class="shy"></span>tive: 1</code>.</p>
<p>В Опе<span class="shy"></span>ре очень по<span class="shy"></span>хо<span class="shy"></span>жий баг<span class="nobr"> —</span><span class="thinsp"> </span>внут<span class="shy"></span>рен<span class="shy"></span>ний блок не ре<span class="shy"></span>а<span class="shy"></span>ги<span class="shy"></span>ру<span class="shy"></span>ет на за<span class="shy"></span>дан<span class="shy"></span>ную ши<span class="shy"></span>ри<span class="shy"></span>ну, <span class="nobr">из-за</span> чего в бло<span class="shy"></span>ке нет пе<span class="shy"></span>ре<span class="shy"></span>но<span class="shy"></span>сов. Един<span class="shy"></span>ствен<span class="shy"></span>ный спо<span class="shy"></span>соб это ис<span class="shy"></span>пра<span class="shy"></span>вить, ко<span class="shy"></span>то<span class="shy"></span>рый я на<span class="shy"></span>шёл: до<span class="shy"></span>ба<span class="shy"></span>вить ро<span class="shy"></span>ди<span class="shy"></span>те<span class="shy"></span>лю <code>flex-di<span class="shy"></span>rec<span class="shy"></span>tion: col<span class="shy"></span>umn</code><span class="nobr"> —</span><span class="thinsp"> </span>так как у нас все<span class="shy"></span>гда толь<span class="shy"></span>ко один внут<span class="shy"></span>рен<span class="shy"></span>ний эле<span class="shy"></span>мент, это ни на что не по<span class="shy"></span>вли<span class="shy"></span>яет.</p>
<p>Те<span class="shy"></span>перь <span class="Sidenote-Wrapper"><a class="Sidenote-Context" href="#without-fallbacks" id="without-fallbacks">иде<span class="shy"></span>аль<span class="shy"></span>но</a><span class="Sidenote" role="note"><span class="Sidenote-Misc"> (</span>Раз<span class="shy"></span>ве что мож<span class="shy"></span>но ещё до<span class="shy"></span>ба<span class="shy"></span>вить фол<span class="shy"></span>бе<span class="shy"></span>ки для ста<span class="shy"></span>рых бра<span class="shy"></span>у<span class="shy"></span>зе<span class="shy"></span>ров, но это уже вы<span class="shy"></span>хо<span class="shy"></span>дит за рам<span class="shy"></span>ки этой ста<span class="shy"></span>тьи<span class="Sidenote-Misc">)</span></span><a class="Sidenote-Close" href="#x" aria-hidden="true" tabindex="-1"></a></span>. Вот по<span class="shy"></span>след<span class="shy"></span>ний при<span class="shy"></span>мер с раз<span class="shy"></span>ны<span class="shy"></span>ми ва<span class="shy"></span>ри<span class="shy"></span>ан<span class="shy"></span>та<span class="shy"></span>ми, ко<span class="shy"></span>то<span class="shy"></span>рые пе<span class="shy"></span>ре<span class="shy"></span>но<span class="shy"></span>сят<span class="shy"></span>ся со строч<span class="shy"></span>ки на строчку:</p>
<input type="checkbox" class="Demo-Toggle" id="Demo_flex-baseline7_toggle" checked="checked" /><div class="Demo Demo_injected Demo_seamless with-screenshot" id="Demo_flex-baseline7"><label class="Demo-Toggler" for="Demo_flex-baseline7_toggle"><a class="Demo-Toggler-Item Demo-Toggler-Checked">Screenshot</a><span class="Demo-Misc"> and </span><a class="Demo-Toggler-Item Demo-Toggler-Unchecked">Live demo</a></label><img class="Demo-Screenshot" src="examples/flex-baseline7.png" alt="Screenshot" title="Screenshot" /><div class="Demo-Content" title="Live demo">

<style>


.baseline-wrapper_normal {
    white-space: normal;
    }

.flex {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    flex-direction: column;

    vertical-align: baseline;
    }

.flex-content {
    padding: 0 10px 10px;
    border: 1px solid lime;

    -ms-flex-negative: 1;
    }

.flex-content:before {
    content: "";
    display: block;
    padding-top: 10px;
    }

.flex:first-child > .flex-content:before {
    padding-top: 20px;
    }

</style>

<div class="baseline-wrapper baseline-wrapper_normal">
    Just some inline text

    <div class="flex">
        <div class="flex-content" style="padding: 0 20px 20px">
            I'm an inline-flex
        </div>
    </div>

    <div class="flex">
        <div class="flex-content" style="font-size: 0.8em">
            I'm an inline-flex<br/>
            With a second line
        </div>
    </div>

    <div class="flex" style="width: 7em;">
        <div class="flex-content" style="overflow: auto; white-space: nowrap;">
            I'm an inline-flex with an overflow auto
        </div>
    </div>

    <div class="flex" style="width: 7em;">
        <div class="flex-content">
            I'm an inline-flex with the text wrapped on the next lines
        </div>
    </div>

    <div class="flex" style="width: 7em;">
        <div class="flex-content" style="height: 7em; overflow: auto;">
            I'm just another inline-flex block with a lot of content and overflow: auto.
        </div>
    </div>
</div>
</div></div>
<p>Код по<span class="shy"></span>лу<span class="shy"></span>ча<span class="shy"></span>ет<span class="shy"></span>ся таким:</p>
<pre><code class="language-css">.flex {
    dis<span class="shy"></span>play: -ms-in<span class="shy"></span>line-flexbox;
    dis<span class="shy"></span>play: -we<span class="shy"></span>bkit-in<span class="shy"></span>line-flex;
    dis<span class="shy"></span>play: in<span class="shy"></span>line-flex;

    /* Fix<span class="shy"></span>ing Opera is<span class="shy"></span>sue */
    flex-di<span class="shy"></span>rec<span class="shy"></span>tion: col<span class="shy"></span>umn;

    ver<span class="shy"></span>ti<span class="shy"></span>cal-align: base<span class="shy"></span>line;
    }

.flex-con<span class="shy"></span>tent {
    padding: 0 10px 10px;
    bor<span class="shy"></span>der: 1px solid lime;

    /* Fix<span class="shy"></span>ing IE is<span class="shy"></span>sue */
    -ms-flex-neg<span class="shy"></span>a<span class="shy"></span>tive: 1;
    }

/* Fix<span class="shy"></span>ing Fx is<span class="shy"></span>sue */
.flex-con<span class="shy"></span>tent:be<span class="shy"></span>fore {
    con<span class="shy"></span>tent: &quot;&quot;;
    dis<span class="shy"></span>play: block;
    padding-top: 10px;
    }
</code></pre>
<h2 class="Heading" id="resume"><a class="Anchor" aria-hidden="true" href="#resume"></a><span class="ss01 hang-m">И</span>того</h2>
<p>Ох уж этот Fire<span class="shy"></span>fox! Если бы не его баги (и один баг де<span class="shy"></span>ся<span class="shy"></span>то<span class="shy"></span>го IE), то мы мог<span class="shy"></span>ли бы обой<span class="shy"></span>тись од<span class="shy"></span>ним эле<span class="shy"></span>мен<span class="shy"></span>том для каж<span class="shy"></span>до<span class="shy"></span>го ин<span class="shy"></span>лай<span class="shy"></span>но<span class="shy"></span>во<span class="shy"></span>го бло<span class="shy"></span>ка, ко<span class="shy"></span>то<span class="shy"></span>рый мы хо<span class="shy"></span>тим вы<span class="shy"></span>ров<span class="shy"></span>нять по ба<span class="shy"></span>зо<span class="shy"></span>вой ли<span class="shy"></span>нии. А если вам не ну<span class="shy"></span>жен <code>over<span class="shy"></span>flow</code> от<span class="shy"></span>лич<span class="shy"></span>ный от <code>vis<span class="shy"></span>i<span class="shy"></span>ble</code>, и вы не бо<span class="shy"></span>и<span class="shy"></span>тесь таб<span class="shy"></span>лиц, то мож<span class="shy"></span>но по<span class="shy"></span>про<span class="shy"></span>бо<span class="shy"></span>вать ис<span class="shy"></span>поль<span class="shy"></span>зо<span class="shy"></span>вать <code>dis<span class="shy"></span>play: in<span class="shy"></span>line-table</code>.</p>
<p>Так, или ина<span class="shy"></span>че, мы по<span class="shy"></span>бе<span class="shy"></span>ди<span class="shy"></span>ли. Те<span class="shy"></span>перь мож<span class="shy"></span>но вы<span class="shy"></span>рав<span class="shy"></span>ни<span class="shy"></span>вать бло<span class="shy"></span>ки по их ба<span class="shy"></span>зо<span class="shy"></span>вым ли<span class="shy"></span>ни<span class="shy"></span>ям вне за<span class="shy"></span>ви<span class="shy"></span>си<span class="shy"></span>мо<span class="shy"></span>сти от их слож<span class="shy"></span>но<span class="shy"></span>сти, ура! Если вы хо<span class="shy"></span>ти<span class="shy"></span>те при<span class="shy"></span>ме<span class="shy"></span>нять эту тех<span class="shy"></span>ни<span class="shy"></span>ку без лиш<span class="shy"></span>них бло<span class="shy"></span>ков, на<span class="shy"></span>сто<span class="shy"></span>я<span class="shy"></span>тель<span class="shy"></span>но со<span class="shy"></span>ве<span class="shy"></span>тую пой<span class="shy"></span>ти и про<span class="shy"></span>го<span class="shy"></span>ло<span class="shy"></span>со<span class="shy"></span>вать за ис<span class="shy"></span>прав<span class="shy"></span>ле<span class="shy"></span>ние <a class="Link" href="https://bugzilla.mozilla.org/show_bug.cgi?id=969874">со<span class="shy"></span>от<span class="shy"></span>вет<span class="shy"></span>ству<span class="shy"></span>ю<span class="shy"></span>щих</a> <a class="Link" href="https://bugzilla.mozilla.org/show_bug.cgi?id=969880">ба<span class="shy"></span>гов</a> в баг<span class="shy"></span>зилле.</p>

          <p class="Metadata Published">Опубликовано 
            <time datetime="2014-02-10">10 февраля 2014 г.</time> в <a href="../" class="Link">блоге</a>.
          </p>
          <p class="Metadata ThanksTo">Спасибо <a class="Link" href="http://taerin.deviantart.com/">Fev</a> за иллюстрацию.
          </p>
          <aside class="Feedback">
            <p>Если вы заметили ошибку или хотите чем-то дополнить статью, вы всегда можете <a href="https://github.com/kizu/kizu.github.com/issues/new?title=%D0%9E%D1%82%D0%B7%D1%8B%D0%B2%20%D0%BD%D0%B0%20%C2%AB%D0%91%D0%B8%D1%82%D0%B2%D0%B0%20%D0%B7%D0%B0%20%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%83%D1%8E%20%D0%BB%D0%B8%D0%BD%D0%B8%D1%8E%C2%BB" class="Link">написать мне об этом</a>, или <a href="https://github.com/kizu/kizu.github.com/blob/source/src/documents/posts/2014-02-10-flex-baseline/index.ru.md" class="Link">поправить статью прямо на Гитхабе</a>.
            </p>
          </aside>
        </div>
      </div>
    </article>
    <footer class="Page-Footer">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <nav class="PrevNext"><a href="/issues/new-stylus-features/" class="Link Link_wrapper Link_prev"><span class="Link-Inner">Новые фичи в Стайлусе</span></a><a href="/blog/be-global/" class="Link Link_wrapper Link_next"><span class="Link-Inner">Будьте глобальными</span></a>
          </nav>
          <p role="contentinfo" class="Page-Copy"><a href="/" class="Link Link_wrapper">© 2016 <span class="Link-Inner">Роман Комаров</span>. </a><a href="https://twitter.com/ki_zu" class="Link Link_wrapper"><span class="Link-Inner">Читайте меня в твиттере</span>!</a>
          </p>
        </div>
      </div>
    </footer>
    <script>var supportsWoff2=function(A){if(!("FontFace"in A)||"function"!=typeof A.FontFace)return!1;var t=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADcAAoAAAAAAggAAACWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABk4ALAoUNAE2AiQDCAsGAAQgBSAHIBtvAcieB3aD8wURQ+TZazbRE9HvF5vde4KCYGhiCgq/NKPF0i6UIsZynbP+Xi9Ng+XLbNlmNz/xIBBqq61FIQRJhC/+QA/08PJQJ3sK5TZFMlWzC/iK5GUN40psgqvxwBjBOg6JUSJ7ewyKE2AAaXZrfUB4v+hze37ugJ9d+DeYqiDwVgCawviwVFGnuttkLqIMGivmDg" ) format( "woff2" )',{});return t.load()["catch"](function(){}),"loading"==t.status||"loaded"==t.status}(this),h=document.getElementsByTagName("head")[0],link=document.createElement("link");link.href="/s/extras"+(supportsWoff2?"2":"")+".css",link.type="text/css",link.rel="stylesheet",h.appendChild(link);
    </script>
    <script src="/j/prism.js"></script>
    <script src="//mc.yandex.ru/metrika/watch.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter632758 = new Ya.Metrika({id:632758, clickmap:true, trackLinks:true, trackHash:true, webvisor:true}); } catch(e) {} }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f); } else { f(); } })(document, window, "yandex_metrika_callbacks");
      //]]>
    </script>
    <noscript><img src="//mc.yandex.ru/watch/632758" style="position:absolute; left:-9990px;" alt=""></noscript>
  </body>
</html>