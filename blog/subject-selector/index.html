<!DOCTYPE html>
<html lang="ru" class="Page Page_post Page_ru without-sidebar">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Селектор контекста (subject selector)</title>
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="http://feeds.feedburner.com/kizu">
    <link rel="stylesheet" href="/s/style.css">
    <link rel="preload" href="/s/extras2.css" as="style" onload="this.rel='stylesheet'">
  </head>
  <body class="Page-Body">
    <header class="Page-Header">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <h1 class="Page-Title"><a href="/" class="Page-Title-Link">Роман Комаров</a>
          </h1>
          <ul class="Page-Languages">
            <li class="Page-Language"><a data-short="en" title="No translation for this article (yet?), but a lot of other english pages are available!" href="/en/" class="Page-Language-Link">in English*</a>
            </li>
            <li data-short="ru" class="Page-Language is-current">по-русски
            </li>
          </ul>
        </div>
      </div>
    </header>
    <article role="main" class="Page-Content">
      <div class="LiquidLayout">
        <div class="Main LiquidLayout-Content">
          <header><h1 class="Heading" id="селектор-контекста-subject-selector-"><a class="Anchor" aria-hidden="true" href="#селектор-контекста-subject-selector-"></a><span class="ss02 hang-xs">С</span>елек­тор кон­тек­ста (sub­ject se­lec­tor)</h1>
          </header>
<p>В на­брос­ках мо­ду­ля <abbr>CSS</abbr> … [уточ­нить] есть та­кая шту­ка<span class="nobr"> —</span><span class="thinsp"> </span>sub­ject se­lec­tor. Это та­кой «свя­той Гра­аль» вёрст­ки: воз­мож­ность ука­зы­вать не на по­след­ний в се­лек­то­ре эле­мент, а на любой.</p>
<p>Син­так­сис пред­ла­га­ет­ся до­воль­но простой:</p>
<pre><code>.foo! &gt; .bar { }
</code></pre>
<p>Се­лек­тор из это­го при­ме­ра при­ме­нит сти­ли толь­ко к тому эле­мен­ту с клас­сом <code>.foo</code>, у ко­то­ро­го бу­дет непо­сред­ствен­ный ре­бё­нок <code>.bar</code>.</p>
<p>Воз­мож­но­сти, ко­то­рые этот се­лек­тор мог бы предо­ста­вить<span class="nobr"> —</span><span class="thinsp"> </span>по­чти без­гра­нич­ны. Но…</p>
<h2 class="Heading" id="этот-селектор-находится-в-опасности-"><a class="Anchor" aria-hidden="true" href="#этот-селектор-находится-в-опасности-"></a><span class="ss02 hang-xs">Э</span>тот се­лек­тор на­хо­дит­ся в опас­ности!</h2>
<p>Ка­кой бы хо­ро­шей не ка­за­лась эта идея (и ниже я по­ста­ра­юсь опи­сать несколь­ко про­стей­ших сце­на­ри­ев ис­поль­зо­ва­ния та­ких се­лек­то­ров), раз­ра­бот­чи­ки бра­у­зе­ров и ав­то­ры спе­ци­фи­ка­ций [упо­мя­нуть и про­ста­вить ссыл­ки] ду­ма­ют над тем, что­бы вы­черк­нуть эту воз­мож­ность из спе­ци­фи­каций.</p>
<p>Да, ни один бра­у­зер ещё не ре­а­ли­зо­вал этот се­лек­тор, да<span class="nobr"> —</span><span class="thinsp"> </span>это со­всем не про­стая за­да­ча, да<span class="nobr"> —</span><span class="thinsp"> </span>зло­упо­треб­ле­ние этим се­лек­то­ром мо­жет вы­звать про­бле­мы в про­из­во­ди­тель­но­сти стра­ниц, но это всё не зна­чит, что эту фичу сто­ит за­ко­пать в мо­гилу.</p>
<p>Эта фича мо­жет дать очень мно­гое веб-раз­ра­бот­чи­кам, если она бу­дет ре­а­ли­зо­ва­на. Мно­гие вещи, воз­мож­ные с её по­мо­щью, невоз­мож­но ре­а­ли­зо­вать ина­че (очень, очень ред­ко мож­но толь­ко сде­лать <em>ви­ди­мость</em> ра­бо­ты со­от­вет­ству­ю­щих се­лек­то­ров).</p>
<p>Я не буду сей­час по­дроб­но рас­пи­сы­вать всё, что я ду­маю о про­цес­се стан­дар­ти­за­ции по­доб­ных фич и их ре­а­ли­за­ции бра­у­зе­ра­ми, ска­жу толь­ко, что как толь­ко я вижу ар­гу­мент о слож­но­сти ре­а­ли­за­ции той или иной функ­ци­о­наль­но­сти как при­чи­на вы­чер­нуть <span class="nobr">что-то</span> из спе­ци­фи­ка­ций, я очень огор­ча­юсь. «Ой, де­лать бра­у­зе­ры слож­но, пой­дём по ма­га­зи­нам!»</p>
<p>Но в этой за­мет­ке я по­ста­ра­юсь опи­сать те слу­чаи, где лич­но мне бы при­го­ди­лась по­доб­ная шту­ка, и даже при­ве­ду несколь­ко жи­вых при­ме­ров того, как бы этот се­лек­тор мог ра­ботать.</p>
<p>[хо­чет­ся тут ри­су­нок с ня­ка­ми, дер­жа­щих пла­ка­ты типа «спа­си­те sub­ject se­lec­tor», с вос­кли­ца­тель­ны­ми зна­ка­ми и всем та­ким]</p>
<h2 class="Heading" id="сценарии-использования"><a class="Anchor" aria-hidden="true" href="#сценарии-использования"></a><span class="ss02 hang-xs">С</span>це­на­рии ис­поль­зо­вания</h2>
<h4 class="Heading" id="изменяем-родителя-при-изменении-реб-нка"><a class="Anchor" aria-hidden="true" href="#изменяем-родителя-при-изменении-реб-нка"></a><span class="ss01 hang-m">И</span>зме­ня­ем ро­ди­те­ля при из­ме­не­нии ре­бёнка</h4>
<p>Очень, очень ча­сто воз­ни­ка­ет необ­хо­ди­мость <span class="nobr">что-то</span> сде­лать на ро­ди­те­ле ко­гда со­сто­я­ние ре­бён­ка ме­ня­ется.</p>
<p>На­при­мер, есть у нас чек­бокс. И ко­гда он чек­нут, мы хо­тим вы­де­лить весь па­ра­граф, или, о боже, всю стро­ку таб­лицы!</p>
<h4 class="Heading" id="разные-стили-для-разного-содержимого"><a class="Anchor" aria-hidden="true" href="#разные-стили-для-разного-содержимого"></a><span class="ss01 hang-m">Р</span>аз­ные сти­ли для раз­но­го со­дер­жи­мого</h4>
<p>До­воль­но ча­сто хо­чет­ся де­лать раз­ное с ро­ди­те­лем в за­ви­си­мо­сти от того, что в нём со­дер­жится.</p>
<p>Да тупо возь­мём аб­стракт­ный блог на там­бле­ре<span class="nobr"> —</span><span class="thinsp"> </span>в нём су­ще­ству­ет мно­го ви­дов по­стов: ви­део-пост, ци­та­та, ста­тья, ста­тья с кар­тин­кой и т.д. Вполне ло­гич­ным вы­гля­дит же­ла­ние сти­ли­зо­вать весь пост в за­ви­си­мо­сти от его типа. Ну, ска­жем, ме­нять фон.</p>
<p>С кон­текст­ным се­лек­то­ром это было бы очень про­сто: го­во­рим «если внут­ри это­го бло­ка есть эле­мент X, при­ме­ня­ем к нему эти сти­ли» и так да­лее. Ви­дим тег <code>video</code> в по­сте? Это ви­део-пост. Ви­дим кар­тин­ку, иду­щую в са­мом на­ча­ле? Ок, ме­ня­ем сти­ли со­от­вет­ству­ю­щим об­ра­зом. Ви­дим ци­та­ту<span class="nobr"> —</span><span class="thinsp"> </span>и она яв­ля­ет­ся един­ствен­ным эле­мен­том по­ста? От­лично!</p>
<p>Или вот тупо хо­тим пра­виль­но ра­бо­тать с от­сту­па­ми вне за­ви­си­мо­сти от типа со­дер­жи­мо­го. Хо­тим так: если па­ра­граф, от­ступ сни­зу та­кой, если кар­тин­ка<span class="nobr"> —</span><span class="thinsp"> </span>дру­гой, и так да­лее. Да, есть пути до­бить­ся это­го ча­стич­но, но каж­дый из та­ких ва­ри­ан­тов, по сути<span class="nobr"> —</span><span class="thinsp"> </span>хак. Ска­жем, мы мо­жем сде­лать ми­ни­маль­ный от­ступ для лю­бо­го кон­тен­та, но вот умень­шить мы его не мо­жем. Вот есть у нас блок, у него от­сту­пы со всех сто­рон. Вот есть у него табы свер­ху, при­ли­па­ю­щие по ди­зай­ну к верх­ней кром­ке. И кро­ме та­бов там мо­жет быть мно­го чего, фло­атя­ще­го­ся или ещё как-либо рас­по­ло­женных…</p>
<p>#### </p>

          <p class="Metadata Published">Написано как черновик, ещё не опубликовано.
          </p>
          <aside class="Feedback">
            <p>Если вы заметили ошибку или хотите чем-то дополнить статью, вы всегда можете <a href="https://github.com/kizu/kizu.github.com/issues/new?title=%D0%9E%D1%82%D0%B7%D1%8B%D0%B2%20%D0%BD%D0%B0%20%C2%AB%D0%A1%D0%B5%D0%BB%D0%B5%D0%BA%D1%82%D0%BE%D1%80%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%20(subject%20selector)%C2%BB" class="Link">написать мне об этом</a>, или <a href="https://github.com/kizu/kizu.github.com/blob/source/src/documents/posts/drafts/subject-selector/index.ru.md" class="Link">поправить статью прямо на Гитхабе</a>.
            </p>
          </aside>
        </div>
      </div>
    </article>
    <footer class="Page-Footer">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <nav class="PrevNext">
          </nav>
          <p role="contentinfo" class="Page-Copy"><a href="/" class="Link Link_wrapper">© 2017 <span class="Link-Inner">Роман Комаров</span>. </a><a href="https://twitter.com/ki_zu" class="Link Link_wrapper"><span class="Link-Inner">Читайте меня в твиттере</span>!</a>
          </p>
        </div>
      </div>
    </footer>
    <script>var supportsWoff2=function(A){if(!("FontFace"in A)||"function"!=typeof A.FontFace)return!1;var t=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADcAAoAAAAAAggAAACWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABk4ALAoUNAE2AiQDCAsGAAQgBSAHIBtvAcieB3aD8wURQ+TZazbRE9HvF5vde4KCYGhiCgq/NKPF0i6UIsZynbP+Xi9Ng+XLbNlmNz/xIBBqq61FIQRJhC/+QA/08PJQJ3sK5TZFMlWzC/iK5GUN40psgqvxwBjBOg6JUSJ7ewyKE2AAaXZrfUB4v+hze37ugJ9d+DeYqiDwVgCawviwVFGnuttkLqIMGivmDg" ) format( "woff2" )',{});return t.load()["catch"](function(){}),"loading"==t.status||"loaded"==t.status}(this),h=document.getElementsByTagName("head")[0],link=document.createElement("link");link.href="/s/extras"+(supportsWoff2?"2":"")+".css",link.type="text/css",link.rel="stylesheet",h.appendChild(link);
    </script>
    <script src="/j/prism.js"></script>
    <script src="//mc.yandex.ru/metrika/watch.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter632758 = new Ya.Metrika({id:632758, clickmap:true, trackLinks:true, trackHash:true, webvisor:true}); } catch(e) {} }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f); } else { f(); } })(document, window, "yandex_metrika_callbacks");
      //]]>
    </script>
    <noscript><img src="//mc.yandex.ru/watch/632758" style="position:absolute; left:-9990px;" alt=""></noscript>
  </body>
</html>