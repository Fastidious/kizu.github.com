<!DOCTYPE html>
<html lang="en" class="Page Page_post Page_en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Conditions for CSS Variables</title>
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="http://feeds.feedburner.com/kizuruen">
    <link rel="alternate" hreflang="en" href="http://kizu.ru/en/fun/conditions-for-css-variables/">
    <link rel="alternate" hreflang="ru" href="http://kizu.ru/fun/conditions-for-css-variables/">
    <link rel="stylesheet" href="/s/style.css">
    <link rel="preload" href="/s/extras2.css" as="style" onload="this.rel='stylesheet'">
  </head>
  <body class="Page-Body">
    <header class="Page-Header">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <h1 class="Page-Title"><a href="/en/" class="Page-Title-Link">Roman Komarov</a>
          </h1>
          <ul class="Page-Languages">
            <li data-short="en" class="Page-Language is-current">in English
            </li>
            <li class="Page-Language"><a data-short="ru" href="/fun/conditions-for-css-variables/" class="Page-Language-Link">по-русски</a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    <article role="main" class="Page-Content">
      <div class="LiquidLayout">
        <div class="Main LiquidLayout-Content">
          <header><h1 class="Heading" id="conditions-for-css-variables"><a class="Anchor" aria-hidden="true" href="#conditions-for-css-variables"></a><span class="ss02 hang-xs">C</span>on­di­tions for <abbr>CSS</abbr> Vari­ables</h1>
          </header>
<p>I&#39;ll start from this: <span class="Sidenote-Wrapper"><a class="Sidenote-Context" href="#not-those" id="not-those">there are no</a><span class="Sidenote" role="note"><span class="Sidenote-Misc"> (</span>There is a mod­ule named “<a href="https://www.w3.org/TR/css3-conditional/"><abbr>CSS</abbr> Con­di­tional Rules</a>”, but don&#39;t ex­pect it to cover the <abbr>CSS</abbr> vari­<span class="nobr">ables —</span><span class="thinsp"> </span>it cov­ers some <span class="nobr">at-rules</span> stuff. There is even a <a href="https://tabatkins.github.io/specs/css-when-else/">pro­posal</a> for <code>@when</code>/<code>@else</code> <span class="nobr">at-rules</span>, which, again, do not any­thing in com­mon with vari­ables.<span class="Sidenote-Misc">)</span></span><a class="Sidenote-Close" href="#x" aria-hidden="true" tabindex="-1"></a></span> con­di­tions in specs to use with <a class="Link" href="https://www.w3.org/TR/css-variables-1/"><abbr>CSS</abbr> vari­ables</a>. I think that this is a re­ally big flaw in specs, as while vari­ables al­ready pro­vide a lot of things that were not pos­si­ble in any other way be­fore, the ab­sence of con­di­tions is re­ally frus­trat­ing, as there could be a lot of uses for them.</p>
<p>But what if we&#39;d need those imag­i­nary con­di­tional state­ments for our <abbr>CSS</abbr> vari­ables <em>now</em>? Well, as with a lot of other <abbr>CSS</abbr> stuff, we can hack our way around for same cases.</p>
<h2 class="Heading" id="the-problem-39-s-definition"><a class="Anchor" aria-hidden="true" href="#the-problem-39-s-definition"></a><span class="ss01 hang-m">T</span>he Prob­lem&#39;s De­f­i­n­ition</h2>
<p>So, what we need is a way to use a sin­gle <abbr>CSS</abbr> vari­able for set­ting dif­fer­ent <abbr>CSS</abbr> prop­er­ties to <em>dif­fer­ent</em> val­ues, but not based di­rectly on this vari­able (that <span class="nobr">is —</span><span class="thinsp"> </span>those val­ues shouldn&#39;t be <em>cal­cu­lated</em> from our vari­able). We need <strong>con­di­tions</strong>.</p>
<h2 class="Heading" id="using-calculations-for-binary-conditions"><a class="Anchor" aria-hidden="true" href="#using-calculations-for-binary-conditions"></a><span class="ss01 hang-m">U</span>sing Cal­cu­la­tions for Bi­nary Con­ditions</h2>
<p>Long story short, I&#39;ll just pre­sent the so­lu­tion to you right now and would ex­plain it later:</p>
<pre><code class="language-css">:root {
    --is-big: 0;
}

.is-big {
    --is-big: 1;
}

.block {
    padding: calc(
        25px * var(--is-big) +
        10px * (1 - var(--is-big))
    );
    border-width: calc(
        3px * var(--is-big) +
        1px * (1 - var(--is-big))
    );
}
</code></pre>
<p>In this ex­am­ple, we&#39;re mak­ing all our el­e­ments with <code>.block</code> to have paddings equal to <code>10px</code> and bor­der widths to <code>1px</code> un­less the <code>--is-big</code> vari­able on those el­e­ments won&#39;t be <code>1</code>, in which case they would be­come <code>25px</code> and <code>3px</code> re­spec­tively.</p>
<p>The mech­a­nism be­yond this is rather sim­ple: we use both our pos­si­ble val­ues in a sin­gle cal­cu­la­tion us­ing <code>calc()</code>, where we nul­lify one and keep an­other value based on the vari­able&#39;s value which can be ei­ther <code>1</code> or <code>0</code>. In other words, we&#39;ll have <code>25px * 1 + 10px * 0</code> in one case and <code>25px * 0 + 10px * 1</code> in an­other.</p>
<h2 class="Heading" id="more-complex-conditions"><a class="Anchor" aria-hidden="true" href="#more-complex-conditions"></a><span class="ss01 hang-m">M</span>ore Com­plex Con­ditions</h2>
<p>We can use this method to choose not only from 2 pos­si­ble val­ues but for choos­ing from 3 or more val­ues. How­ever, for each new added pos­si­ble value the cal­cu­la­tion be­comes more com­plex. For choos­ing be­tween 3 pos­si­ble val­ues it would al­ready look like this:</p>
<pre><code class="language-css">.block {
    padding: calc(
        100px * (1 - var(--foo)) * (2 - var(--foo)) * 0.5 +
         20px * var(--foo) * (2 - var(--foo)) +
          3px * var(--foo) * (1 - var(--foo)) * -0.5
    );
}
</code></pre>
<p>This could ac­cept <code>0</code>, <code>1</code> and <code>2</code> val­ues for <code>--foo</code> vari­able and cal­cu­late the padding to <code>100px</code>, <code>20px</code> or <code>3px</code> cor­re­spond­ingly.</p>
<p>The prin­ci­ple is the same: we just need to mul­ti­ply each pos­si­ble value to an ex­pres­sion that would be equal to <code>1</code> when the con­di­tion for this value is the one we need and to <code>0</code> in other cases. And this ex­pres­sion can be com­posed rather eas­ily: we just need to nul­lify each other pos­si­ble value of our con­di­tional vari­able. Af­ter do­ing this we&#39;d need to add our trig­ger­ing value there to see if we&#39;d need to ad­just the re­sult so it would be equal to 1. And that&#39;s it.</p>
<h3 class="Heading" id="a-possible-trap-in-the-specs"><a class="Anchor" aria-hidden="true" href="#a-possible-trap-in-the-specs"></a><span class="ss01 hang-xs">A</span> Pos­si­ble Trap in the Specs</h3>
<p>With the in­creas­ing com­plex­ity of such cal­cu­la­tions, there is a chance at one point they would stop from work­ing. Why? There is this note in <a class="Link" href="https://drafts.csswg.org/css-values-3/#calc-syntax">specs</a>:</p>
<blockquote>
<p>UAs must sup­port calc() ex­pres­sions of at least 20 terms, where each <abbr>NUM</abbr>­<abbr>BER</abbr>, DI­<abbr>MEN</abbr>­<abbr>SION</abbr>, or <abbr>PER</abbr>­<abbr>CENT</abbr>­<abbr>AGE</abbr> is a term. If a calc() ex­pres­sion con­tains more than the sup­ported num­ber of terms, it must be treated as if it were in­valid.</p>
</blockquote>
<p>Of course, I tested this a bit and couldn&#39;t found such lim­i­ta­tions in the browsers I tested, but there is still a chance ei­ther you would write some re­ally com­plex code that would meet the pos­si­ble ex­ist­ing limit, or some of the browsers could in­tro­duce this limit in the fu­ture, so be care­ful when us­ing re­ally com­plex cal­cu­la­tions.</p>
<h2 class="Heading" id="conditions-for-colors"><a class="Anchor" aria-hidden="true" href="#conditions-for-colors"></a><span class="ss02 hang-xs">C</span>on­di­tions for Colors</h2>
<p>As you can see, those cal­cu­la­tions could be used only for things that you can <em>cal­cu­late</em>, so there is no chance we could use it for switch­ing the val­ues of <code>dis­play</code> prop­erty or any other <span class="nobr">non-nu</span>­meric ones. But what about col­ors? Ac­tu­ally, we can cal­cu­late the in­di­vid­ual com­po­nents of the col­ors. Sadly, right now it would work only in We­bkits and Blinks, as <a class="Link" href="https://bugzilla.mozilla.org/show_bug.cgi?id=984021" title="Bugzilla ticket">Fire­fox don&#39;t yet sup­port</a> <code>calc()</code> in­side <code>rgba()</code> and other color func­tions.</p>
<p>But when the sup­port would be there (or if you&#39;d like to ex­per­i­ment on this in browsers with an ex­ist­ing sup­port), we could do things like that:</p>
<pre><code class="language-css">:root {
    --is-red: 0;
}

.block {
    background: rgba(
        calc(
            255*var(--is-red) +
            0*(1 - var(--is-red))
            ),
        calc(
            0*var(--is-red) +
            255*(1 - var(--is-red))
            ),
        0, 1);
}
</code></pre>
<p>Here we&#39;d have lime color by de­fault and red if the <code>--is-red</code> would be set to <code>1</code> (note that when the com­po­nent could be zero we could just omit it at all, mak­ing out code more com­pact, here I kept those for clar­ity of an al­go­rithm).</p>
<p>As you could do those cal­cu­la­tions with any com­po­nents, it is pos­si­ble to cre­ate those con­di­tions for any col­ors (and maybe even for gra­di­ents? You should try it!).</p>
<h3 class="Heading" id="another-trap-in-the-specs"><a class="Anchor" aria-hidden="true" href="#another-trap-in-the-specs"></a><span class="ss01 hang-xs">A</span>nother Trap in the Specs</h3>
<p>When I was test­ing how the con­di­tions work for col­ors, I found out a re­ally, <em>re­ally</em> <span class="Sidenote-Wrapper"><a class="Sidenote-Context" href="#issue-resolved" id="issue-resolved">weird lim­i­ta­tion in Specs</a><span class="Sidenote" role="note"><span class="Sidenote-Misc"> (</span>Tab Atkins <a href="https://github.com/kizu/kizu.github.com/issues/186">com­mented</a> that this is­sue with color com­po­nents was fixed in the specs (but is not yet sup­ported by browsers). Yay! Also he said that as an­other so­lu­tion we could just use per­cent­ages in­side <code>rgba</code>, I to­tally for­got about this fea­ture, haha.<span class="Sidenote-Misc">)</span></span><a class="Sidenote-Close" href="#x" aria-hidden="true" tabindex="-1"></a></span>. It is called <a class="Link Link_wrapper" href="https://twitter.com/kizmarh/status/788504161864261632">“<span class="Link-Inner">Type Check­ing</span>”</a>. I now of­fi­cially hate it. What this means is that if the prop­erty ac­cepts only <code>&lt;in­te­ger&gt;</code> as a value, if you&#39;d have any di­vi­sions or <span class="nobr">non-in</span>­te­gers in­side the <code>calc()</code> for it, even if the re­sult would be in­te­ger, the “re­solved type” wouldn&#39;t be <code>&lt;in­te­ger&gt;</code>, it would be <code>&lt;num­ber&gt;</code>, and that means that those prop­er­ties won&#39;t ac­cept such val­ues. And when we&#39;d have cal­cu­la­tions in­volv­ing more than two pos­si­ble val­ues, we&#39;d need to have a <span class="nobr">non-in</span>­te­ger mod­i­fiers. And that would make our cal­cu­la­tion in­valid for us­ing with col­ors or other in­te­ger-only prop­er­ties (like <code>z-in­dex</code>).</p>
<p>That is:</p>
<pre><code class="language-css">calc(255 * (1 - var(--bar)) * (var(--bar) - 2) * -0.5)
</code></pre>
<p>Would be in­valid when in­side of the <code>rgba()</code>. Ini­tially I thought that this be­hav­iour is a bug, es­pe­cially know­ing how the color func­tions can ac­tu­ally ac­cept the val­ues that go be­yond the pos­si­ble ranges (you can do <code>rgba(9001, +9001, -9001, 42)</code> and get a valid yel­low color), but this typ­ing thing seems to be too hard for browsers to handle.</p>
<h4 class="Heading" id="solutions-"><a class="Anchor" aria-hidden="true" href="#solutions-"></a><span class="ss01 hang-xs">S</span>olu­tions?</h4>
<p>There is one far from per­fect so­lu­tion. As in our case we know both the de­sired value and the prob­lem­atic mod­i­fier, we can pre-cal­cu­late them and then round it up. Yep, that means that the re­sult­ing value could be not ex­actly the same, as we would lose some pre­ci­sion in some cases. But it is bet­ter than noth­ing, right?</p>
<p>But there is an­other so­lu­tion that would work for col­<span class="nobr">ors —</span><span class="thinsp"> </span>we can use <code>hsla</code> in­stead of <code>rgba</code>, as it ac­cepts not in­te­gers, but num­bers and per­cent­ages, so there won&#39;t be a con­flict in type re­solv­ing. But for other prop­er­ties like <code>z-in­dex</code> that so­lu­tion won&#39;t work. But even with this method there still could be some losses in pre­ci­sion if you&#39;re go­ing to con­vert <code>rgb</code> to <code>hsl</code>. But those should be less than in pre­vi­ous so­lution.</p>
<h2 class="Heading" id="preprocessing"><a class="Anchor" aria-hidden="true" href="#preprocessing"></a><span class="ss01 hang-m">P</span>re­pro­cessing</h2>
<p>When the con­di­tions are bi­nary it is still pos­si­ble to write them by hand. But when we&#39;re start­ing to use more com­plex con­di­tions, or when we&#39;re get­ting to the col­ors, we&#39;d bet­ter have tools that could make it eas­ier to write. Luck­ily, we have pre­proces­sors for this purpose.</p>
<p>Here is how I man­aged to quickly do it in <span class="Sidenote-Wrapper"><a class="Sidenote-Context" href="#pen" id="pen">Sty­lus</a><span class="Sidenote" role="note"><span class="Sidenote-Misc"> (</span>You can look at <a href="http://codepen.io/kizu/pen/zKmyvG">Code­Pen with this code</a> in ac­tion.<span class="Sidenote-Misc">)</span></span><a class="Sidenote-Close" href="#x" aria-hidden="true" tabindex="-1"></a></span>:</p>
<pre><code class="language-styl">conditional($var, $values...)
  $result = &#39;&#39;

  // If there is only an array passed, use its contents
  if length($values) == 1
    $values = $values[0]

  // Validating the values and check if we need to do anything at all
  $type = null
  $equal = true

  for $value, $i in $values
    if $i &gt; 0 and $value != $values[0]
      $equal = false

    $value_type = typeof($value)
    $type = $type || $value_type
    if !($type == &#39;unit&#39; or $type == &#39;rgba&#39;)
      error(&#39;Conditional function can accept only numbers or colors&#39;)

    if $type != $value_type
      error(&#39;Conditional function can accept only same type values&#39;)

  // If all the values are equal, just return one of them
  if $equal
    return $values[0]

  // Handling numbers
  if $type == &#39;unit&#39;
    $result = &#39;calc(&#39;
    $i_count = 0
    for $value, $i in $values
      $multiplier = &#39;&#39;
      $modifier = 1
      $j_count = 0
      for $j in 0..(length($values) - 1)
        if $j != $i
          $j_count = $j_count + 1
          // We could use just the general multiplier,
          // but for 0 and 1 we can simplify it a bit.
          if $j == 0
            $modifier = $modifier * $i
            $multiplier = $multiplier + $var
          else if $j == 1
            $modifier = $modifier * ($j - $i)
            $multiplier = $multiplier + &#39;(1 - &#39; + $var + &#39;)&#39;
          else
            $modifier = $modifier * ($i - $j)
            $multiplier = $multiplier + &#39;(&#39; + $var + &#39; - &#39; + $j + &#39;)&#39;

          if $j_count &lt; length($values) - 1
            $multiplier = $multiplier + &#39; * &#39;

      // If value is zero, just don&#39;t add it there lol
      if $value != 0
        if $modifier != 1
          $multiplier = $multiplier + &#39; * &#39; + (1 / $modifier)
        $result = $result + ($i_count &gt; 0 ? &#39; + &#39; : &#39;&#39;) + $value + &#39; * &#39; + $multiplier
        $i_count = $i_count + 1

    $result = $result + &#39;)&#39;

  // Handling colors
  if $type == &#39;rgba&#39;
    $hues = ()
    $saturations = ()
    $lightnesses = ()
    $alphas = ()

    for $value in $values
      push($hues, unit(hue($value), &#39;&#39;))
      push($saturations, saturation($value))
      push($lightnesses, lightness($value))
      push($alphas, alpha($value))

    $result = &#39;hsla(&#39; + conditional($var, $hues) + &#39;, &#39; + conditional($var, $saturations) + &#39;, &#39; + conditional($var, $lightnesses) + &#39;, &#39; + conditional($var, $alphas) +  &#39;)&#39;

  return unquote($result)
</code></pre>
<p>Yep, there is a lot of code, but this mixin can gen­er­ate con­di­tion­als both for num­bers and col­ors, and not only for two pos­si­ble con­di­tions but for many more.</p>
<p>The us­age is re­ally easy:</p>
<pre><code class="language-styl">border-width: conditional(var(--foo), 10px, 20px)
</code></pre>
<p>The first ar­gu­ment is our vari­able, the sec­ond one is the value that should be ap­plied when the vari­able would be equal to <code>0</code>, the <span class="nobr">third —</span><span class="thinsp"> </span>when it would be equal to <code>1</code>, etc.</p>
<p>This above call would gen­er­ate proper con­di­tional:</p>
<pre><code class="language-css">border-width: calc(10px * (1 - var(--foo)) + 20px * var(--foo));
</code></pre>
<p>And here is a more com­plex ex­am­ple for the color con­di­tionals:</p>
<pre><code class="language-styl">color: conditional(var(--bar), red, lime, rebeccapurple, orange)
</code></pre>
<p>Would gen­er­ate some­thing that you surely wouldn&#39;t want to write by hand:</p>
<pre><code class="language-css">color: hsla(calc(120 * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 270 * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 38.82352941176471 * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), calc(100% * (1 - var(--bar)) * (var(--bar) - 2) * (var(--bar) - 3) * 0.16666666666666666 + 100% * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 49.99999999999999% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 100% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), calc(50% * (1 - var(--bar)) * (var(--bar) - 2) * (var(--bar) - 3) * 0.16666666666666666 + 50% * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 40% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 50% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), 1);
</code></pre>
<p>Note that there is no de­tec­tion of <code>&lt;in­te­ger&gt;</code>-ac­cept­ing prop­er­ties, so that won&#39;t work for <code>z-in­dex</code> and such, but it al­ready con­verts col­ors to <code>hsla()</code> to make them man­age­ble (though even this could be en­hanced so this con­ver­ta­tion would hap­pen only when it would be needed). An­other thing I didn&#39;t im­ple­ment in this mixin (yet?) is the abil­ity to use <abbr>CSS</abbr> vari­ables for the val­ues. This would be pos­si­ble for <span class="nobr">non-in</span>­te­ger num­bers as those val­ues would be in­serted as is in the con­di­tional cal­cu­la­tions. Maybe, when I&#39;ll find time, I&#39;ll fix the mixin to ac­cept not only num­bers or col­ors but also vari­ables. For the time be­ing it is still pos­si­ble to do us­ing the al­go­rithm ex­plained in this ar­ticle.</p>
<h2 class="Heading" id="fallbacks"><a class="Anchor" aria-hidden="true" href="#fallbacks"></a><span class="ss01 hang-m">F</span>allbacks</h2>
<p>Of course, if you&#39;re plan­ning to ac­tu­ally use this, you&#39;ll need to have a way to set fall­backs. They&#39;re easy for browsers that just don&#39;t sup­port vari­ables: you just de­clare the fall­back value be­fore the con­di­tional de­c­la­ration:</p>
<pre><code class="language-css">.block {
    padding: 100px; /* fallback */
    padding: calc(
        100px * ((1 - var(--foo)) * (2 - var(--foo)) / 2) +
         20px * (var(--foo) * (2 - var(--foo))) +
          3px * (var(--foo) * (1 - var(--foo)) / -2)
    );
}
</code></pre>
<p>But when it comes to col­ors we have a prob­lem: when there is a sup­port for vari­ables, in fact (and that&#39;s an­other re­ally weird place in specs), <em>just any</em> de­c­la­ra­tion con­tain­ing vari­ables would be con­sid­ered valid. And this means that it is not pos­si­ble in <abbr>CSS</abbr> to make a fall­back for some­thing con­tain­ing vari­ables:</p>
<pre><code class="language-css">background: blue;
background: I 💩 CSS VAR(--I)ABLES;
</code></pre>
<p>Is valid <abbr>CSS</abbr> and per specs, the back­ground would get an <code>ini­tial</code> value, not the one pro­vided in a fall­back (even though it is ob­vi­ous that the other parts of the value are in­cor­rect).</p>
<p>So, what we need in or­der to pro­vide a fall­back in those <span class="nobr">cases —</span><span class="thinsp"> </span>add <code>@sup­port</code> wrap­per that would test the sup­port for every­thing <strong>ex­cept</strong> for the vari­ables.</p>
<p>In our case, we need to wrap our con­di­tional col­ors for Fire­fox in some­thing like this:</p>
<pre><code class="language-css">.block {
    color: #f00;
}
@supports (color: rgb(0, calc(0), 0)) {
    .block {
        color: rgba(calc(255 * (1 - var(--foo))), calc(255 * var(--foo)), 0, 1);
  }
}
</code></pre>
<p>Here we&#39;re test­ing a sup­port for cal­cu­la­tions in­side color func­tions and ap­ply­ing the con­di­tional color only in that case.</p>
<p>It is also pos­si­ble to cre­ate such fall­backs au­to­mat­i­cally, but I won&#39;t rec­om­mend you to use pre­proces­sors for them as the com­plex­ity of cre­at­ing such stuff is much more than the ca­pa­bil­i­ties pre­proces­sors provide.</p>
<h2 class="Heading" id="use-cases"><a class="Anchor" aria-hidden="true" href="#use-cases"></a><span class="ss01 hang-m">U</span>se Cases</h2>
<p>I re­ally don&#39;t like to pro­vide use cases for the things the need for which is ob­vi­ous. So I&#39;ll be brief. And I&#39;ll state not only the con­di­tions for vari­ables, but also the gen­eral con­di­tions, like for the re­sult of <code>calc()</code>.</p>
<ul>
<li><p>The con­di­tions for <abbr>CSS</abbr> vari­ables would be per­fect for themi­fy­ing blocks. This way you could have a num­ber of num­bered themes and then ap­ply them to blocks (and nested ones!) us­ing just one <abbr>CSS</abbr> vari­able like <code>--block-vari­ant: 1</code>. This is not some­thing that is pos­si­ble through any other means other than vari­ables and when you&#39;d want to have dif­fer­ent val­ues for dif­fer­ent props in dif­fer­ent themes, with­out the con­di­tion­als you&#39;d need to have many dif­fer­ent vari­ables and ap­ply all of them in every case.</p>
</li>
<li><p>Ty­pog­ra­phy. If it was pos­si­ble to use the <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> and <code>&gt;=</code> in con­di­tions for vari­ables, it would be pos­si­ble to have a num­ber of “rules” for dif­fer­ent font sizes, so you could set dif­fer­ent line heights, font weights and other prop­er­ties based on the given font-size. This is pos­si­ble now, but now when you need to have some “stops” for those val­uea and not just the val­ues de­rived from <code>em</code>s.</p>
</li>
<li><p>Re­spon­sive de­sign. Well, if there were the con­di­tions for cal­cu­la­tions, then it would be al­most the same as those elu­sive “el­e­ment queries”<span class="nobr"> —</span><span class="thinsp"> </span>you could check the <code>vw</code> or the par­ent&#39;s widths in per­cents and de­cide what to ap­ply in dif­fer­ent cases.</p>
</li>
</ul>
<p>There can be other use cases, tell me if you&#39;d find one! I&#39;m sure I had more of them my­self, but I don&#39;t have that good of a mem­ory to re­mem­ber all the things I ever wanted to do with <abbr>CSS</abbr>. Be­cause its all the things.</p>
<h2 class="Heading" id="future"><a class="Anchor" aria-hidden="true" href="#future"></a><span class="ss01 hang-m">F</span>uture</h2>
<p>I would re­ally like to see con­di­tions de­scribed in <abbr>CSS</abbr> specs, so we would not rely on calc hacks and could use proper con­di­tions for non-cal­cu­lat­able val­ues too. It is also im­pos­si­ble right now to have con­di­tions other than strict equal­ity, so no “when the vari­able is more than X” and other stuff like that. I don&#39;t see any rea­sons why we can&#39;t have proper con­di­tions in <abbr>CSS</abbr>, so if you know a fel­low spec de­vel­oper, hint them about this is­sue. My only hope is that they won&#39;t tell us to “just use JS” or find out ex­cuses of why that wouldn&#39;t ever be pos­si­ble. Here, it is al­ready pos­si­ble now us­ing the hacks, there can&#39;t be any ex­cuses.</p>

          <p class="Metadata Published">Published on 
            <time datetime="2016-10-21">October 21, 2016</time>, in <a href="../" class="Link">Experiments</a>.
          </p>
          <aside class="Feedback">
            <p>If you've spotted a typo or a mistake, or wish to add something on, you could either <a href="https://github.com/kizu/kizu.github.com/issues/new?title=Feedback%20for%20%E2%80%9CConditions%20for%20CSS%20Variables%E2%80%9D" class="Link">write me about this</a> or <a href="https://github.com/kizu/kizu.github.com/blob/source/src/documents/posts/2016-10-21-(fun)-conditions-for-css-variables/index.en.md" class="Link">edit this article on Github</a>.
            </p>
          </aside>
        </div>
      </div>
    </article>
    <footer class="Page-Footer">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <nav class="PrevNext"><a href="/en/blog/styling-inline-code/" class="Link Link_wrapper Link_prev"><span class="Link-Inner">Styling inline code</span></a><a href="/en/fun/controlling-the-specificity/" class="Link Link_wrapper Link_next"><span class="Link-Inner">Controlling the Specificity</span></a>
          </nav>
          <p role="contentinfo" class="Page-Copy"><a href="/en/" class="Link Link_wrapper">© 2017 <span class="Link-Inner">Roman Komarov</span>. </a><a href="https://twitter.com/kizmarh" class="Link Link_wrapper"><span class="Link-Inner">Follow me on twitter</span>!</a>
          </p>
        </div>
      </div>
    </footer>
    <script>var supportsWoff2=function(A){if(!("FontFace"in A)||"function"!=typeof A.FontFace)return!1;var t=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADcAAoAAAAAAggAAACWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABk4ALAoUNAE2AiQDCAsGAAQgBSAHIBtvAcieB3aD8wURQ+TZazbRE9HvF5vde4KCYGhiCgq/NKPF0i6UIsZynbP+Xi9Ng+XLbNlmNz/xIBBqq61FIQRJhC/+QA/08PJQJ3sK5TZFMlWzC/iK5GUN40psgqvxwBjBOg6JUSJ7ewyKE2AAaXZrfUB4v+hze37ugJ9d+DeYqiDwVgCawviwVFGnuttkLqIMGivmDg" ) format( "woff2" )',{});return t.load()["catch"](function(){}),"loading"==t.status||"loaded"==t.status}(this),h=document.getElementsByTagName("head")[0],link=document.createElement("link");link.href="/s/extras"+(supportsWoff2?"2":"")+".css",link.type="text/css",link.rel="stylesheet",h.appendChild(link);
    </script>
    <script src="/j/prism.js"></script>
    <script src="//mc.yandex.ru/metrika/watch.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter632758 = new Ya.Metrika({id:632758, clickmap:true, trackLinks:true, trackHash:true, webvisor:true}); } catch(e) {} }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f); } else { f(); } })(document, window, "yandex_metrika_callbacks");
      //]]>
    </script>
    <noscript><img src="//mc.yandex.ru/watch/632758" style="position:absolute; left:-9990px;" alt=""></noscript>
  </body>
</html>