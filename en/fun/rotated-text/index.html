<!DOCTYPE html>
<html lang="en" class="Page Page_post Page_en without-sidebar">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rotated text</title>
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="http://feeds.feedburner.com/kizuruen">
    <link rel="alternate" hreflang="en" href="http://kizu.ru/en/fun/rotated-text/">
    <link rel="alternate" hreflang="ru" href="http://kizu.ru/fun/rotated-text/">
    <link rel="stylesheet" href="/s/style.css">
    <link rel="preload" href="/s/extras2.css" as="style" onload="this.rel='stylesheet'">
  </head>
  <body class="Page-Body">
    <header class="Page-Header">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <h1 class="Page-Title"><a href="/en/" class="Page-Title-Link">Roman Komarov</a>
          </h1>
          <ul class="Page-Languages">
            <li data-short="en" class="Page-Language is-current">in English
            </li>
            <li class="Page-Language"><a data-short="ru" href="/fun/rotated-text/" class="Page-Language-Link">по-русски</a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    <article role="main" class="Page-Content">
      <div class="LiquidLayout">
        <div class="Main LiquidLayout-Content">
          <header><h1 class="Heading" id="rotated-text"><a class="Anchor" aria-hidden="true" href="#rotated-text"></a><span class="ss01 hang-m">R</span>otated text</h1>
          </header>
<p>Once I al­ready shared this so­lu­tion on twit­ter, but this time I’m go­ing to write a bit more on it.</p>
<p><strong>The task</strong> is to get the text ro­tated by 90 de­grees.</p>
<p><strong>The prob­lem</strong>: it’s widely known that when you use <code>trans­form</code>, the block be­haves sim­i­lar to the <code>po­si­tion:rel­a­tive</code><span class="nobr"> —</span><span class="thinsp"> </span>its place in the flow is not changed af­ter the trans­for­ma­tion, so the change is only visual.</p>
<p>How­ever, rather of­ten you’ll <em>need</em> to ro­tate the block in a way the flow would change ei­ther. Like if we’d want to put some ro­tated blocks in a row, or if we’d want to have ver­ti­cal head­ers in ta­<span class="nobr">bles —</span><span class="thinsp"> </span>in those cases we would need the height of the block to be its width af­ter the ro­tate and vice versa.</p>
<p>I man­aged to make this work with one as­sump­<span class="nobr">tion —</span><span class="thinsp"> </span>we would need to know the height of the ro­tated el­e­ment. In such case the so­lu­tion would be rather simple:</p>
<ol>
<li><p>We would need to have an ex­tra el­e­ment. <abbr>HTML</abbr> for each block would be like this:</p>
<pre><code class="language-html"> &lt;span class=&quot;rotated-text&quot;&gt;
     &lt;span class=&quot;rotated-text__inner&quot;&gt;
         Rotated foo
     &lt;/span&gt;
 &lt;/span&gt;
</code></pre>
</li>
<li><p>Wrap­per would get those styles:</p>
<pre><code class="language-css"> .rotated-text {
     display: inline-block;
     overflow: hidden;

     width: 1.5em;
     line-height: 1.5;
 }
</code></pre>
<p> Here we make our el­e­ment to be in­line-block (that’s not crit­i­cal, the block dis­play would work too, but in­line-block is of­ten hand­ier), then we re­move all the ex­tra things us­ing over­flow (we would need this later) and set the width to the cur­rent el­e­ments’ <span class="nobr">height —</span><span class="thinsp"> </span>the men­tioned as­sump­tion (and <code>line-height</code> is placed here as an ex­am­ple of what de­fines the blocks’ height).</p>
</li>
<li><p>Then we make the in­ner el­e­ment to be in­line-block too, so its width would be col­lapsed to its con­tent. Af­ter this we make it have <code>white-space:nowrap</code>, so noth­ing would wrap (be­cause of the fixed width in the pre­vi­ous step), and then we ac­tu­ally ro­tate the block from the left top cor­ner us­ing <code>trans­form-ori­gin</code> (for read­abil­ity the trans­form prop­er­ties are given with­out proper pre­fixes):</p>
<pre><code class="language-css"> .rotated-text__inner {
     display: inline-block;
     white-space: nowrap;

     transform: translate(0,100%) rotate(-90deg);
     transform-origin: 0 0;
 }
</code></pre>
</li>
<li><p>And now the key part of my so­lu­tion: we need to make this in­ner el­e­ment to be <em>square</em><span class="nobr"> —</span><span class="thinsp"> </span>this would make the re­sult­ing el­e­ment to have the height of its width, and the width would be equal to the as­sumed height on the wrap­per. So, to make an el­e­ment squar­ish we use this trick:</p>
<pre><code class="language-css"> .rotated-text__inner:after {
     content: &quot;&quot;;
     float: left;
     margin-top: 100%;
 }
</code></pre>
<p> Not that hard, but not a lot of peo­ple re­mem­ber that top and bot­tom paddings and mar­gins set in per­cents are us­ing the width of the par­ent el­e­ment, not its height. This be­hav­ior is not widely used, but here is a case where it’s use­ful at last.</p>
</li>
</ol>
<p>So, in the end we got a square el­e­ment, whose width is hid­den by the over­flow on wrap­per and this el­e­ment could be used in any con­text, so it would be af­fected by <code>text-align</code> or <code>ver­ti­cal-align</code>. It is rather “fair” ro­tated block.</p>
<p>And just some ba­sic ex­am­ples of usage:</p>
<h2 class="Heading" id="table-headers"><a class="Anchor" aria-hidden="true" href="#table-headers"></a><span class="ss01 hang-m">T</span>able headers</h2>
<p>An ob­vi­ous ex­am­<span class="nobr">ple —</span><span class="thinsp"> </span>com­pact table head­ers what don’t take that much of hor­i­zon­tal space:</p>
<div class="Demo Demo_injected Demo_seamless" id="Demo_rotated-text"><style>

.rotated-text {
    display: inline-block;
    overflow: hidden;
    width: 1.5em;
    line-height: 1.5;
}
.rotated-text__inner {
    display: inline-block;
    white-space: nowrap;
    -webkit-transform: translate(0,100%) rotate(-90deg);
       -moz-transform: translate(0,100%) rotate(-90deg);
        -ms-transform: translate(0,100%) rotate(-90deg);
         -o-transform: translate(0,100%) rotate(-90deg);
            transform: translate(0,100%) rotate(-90deg);
    -webkit-transform-origin: 0 0;
       -moz-transform-origin: 0 0;
        -ms-transform-origin: 0 0;
         -o-transform-origin: 0 0;
            transform-origin: 0 0;
}
/* This element stretches the parent to be square
   by using the mechanics of vertical margins  */
.rotated-text__inner:before {
    content: "";
    float: left;
    margin-top: 100%;
}

/* Just for better looking tables */
.table-example {
    display: inline-table;
    vertical-align: top;
    text-align: center;
}

</style>

<table class="table-example" border="1" cellpadding="10">
    <tr>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    First th
                </span>
            </span>
        </th>
        <td>Some cell</td>
        <td>And another</td>
    </tr>
    <tr>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    Second th
                </span>
            </span>
        </th>
        <td>12</td>
        <td>12314</td>
    </tr>
    <tr>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    Third th
                </span>
            </span>
        </th>
        <td>12</td>
        <td>12314</td>
    </tr>
</table>

<table class="table-example" border="1" cellpadding="10">
    <tr>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    First th
                </span>
            </span>
        </th>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    The Second th
                </span>
            </span>
        </th>
        <th>
            <span class="rotated-text">
                <span class="rotated-text__inner">
                    Third th
                </span>
            </span>
        </th>
    </tr>
    <tr>
        <td>2</td>
        <td>4</td>
        <td>42</td>
    </tr>
    <tr>
        <td>12</td>
        <td>4</td>
        <td>234</td>
    </tr>
    <tr>
        <td>13</td>
        <td>100</td>
        <td>0</td>
    </tr>
</table>
</div>
<h2 class="Heading" id="-bookshelf-"><a class="Anchor" aria-hidden="true" href="#-bookshelf-"></a><span class="hang-m">“</span>Book­shelf”</h2>
<p>As all the ro­tated blocks have fair place in a flow, you could arrange them in a row so they won’t over­lap each other and the height of the whole row would be equal to the “high­est” of them:</p>
<div class="Demo Demo_injected Demo_seamless" id="Demo_rotated-text_books"><style>

.rotated-text {
    display: inline-block;
    overflow: hidden;
    width: 1.5em;
    line-height: 1.5;
}
.rotated-text__inner {
    display: inline-block;
    white-space: nowrap;
    -webkit-transform: translate(0,100%) rotate(-90deg);
       -moz-transform: translate(0,100%) rotate(-90deg);
        -ms-transform: translate(0,100%) rotate(-90deg);
         -o-transform: translate(0,100%) rotate(-90deg);
            transform: translate(0,100%) rotate(-90deg);
    -webkit-transform-origin: 0 0;
       -moz-transform-origin: 0 0;
        -ms-transform-origin: 0 0;
         -o-transform-origin: 0 0;
            transform-origin: 0 0;
}
/* This element stretches the parent to be square
   by using the mechanics of vertical margins  */
.rotated-text__inner:before {
    content: "";
    float: left;
    margin-top: 100%;
}

.bookshelf {
    padding: 0;
    margin: 0;
    font-size: 0.8em;
}

.book {
    padding: 1em 0.5em;

    vertical-align: bottom;
    list-style: none;

    -webkit-box-shadow: inset 0 0 0 1px #000;
            box-shadow: inset 0 0 0 1px #000;
}

.book:before {
    display: none;
}

.book__inner {
    text-decoration: none;
    vertical-align: middle;
    text-align: center;

    min-width: 8em;
    padding: 0;

    color: #000;
    text-shadow: none !important;
}

</style>

<ul class="bookshelf">
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">The Idiot</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">The Little Prince</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">Roadside Picnic</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">Flowers for Algernon</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">A Book of Five Rings</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">The Glass Bead Game</a></li>
    <li class="book rotated-text" title="42!"><a class="book__inner rotated-text__inner" href="#book">The Hitchhiker's Guide to the Galaxy</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">The Hobbit</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">One Flew Over the Cuckoo's Nest</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">1984</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">Mother Night</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">Speaker for the Dead</a></li>
    <li class="book rotated-text"><a class="book__inner rotated-text__inner" href="#book">The Day of the Triffids</a></li>
</ul>
</div>
<p>So, that’s it.</p>
<p>Once again: we need to know the ini­tial height of the ro­tated block, so if we’d need to ro­tate mul­ti­line blocks, we’d need to change their re­sult­ing width ac­cord­ingly.</p>
<p>Also, this method could work in <span class="nobr">IE —</span><span class="thinsp"> </span>by adding ma­trix fil­ter and con­vert­ing a <span class="nobr">pseudo-el</span>­e­ment to an ac­tual <span class="nobr">one —</span><span class="thinsp"> </span>but I’m lazy enough to do this. But if you’d like, you could make it by your­self and even sub­mit a Pull Re­quests to <a class="Link" href="https://github.com/kizu/kizu.github.com/blob/master/demos/rotated-text.html">those</a> <a class="Link" href="https://github.com/kizu/kizu.github.com/blob/master/demos/rotated-text_books.html">ex­am­ples</a> :)</p>

          <p class="Metadata Published">Published on 
            <time datetime="2013-04-30">April 30, 2013</time>, in <a href="../" class="Link">Experiments</a>.
          </p>
          <aside class="Feedback">
            <p>If you've spotted a typo or a mistake, or wish to add something on, you could either <a href="https://github.com/kizu/kizu.github.com/issues/new?title=Feedback%20for%20%E2%80%9CRotated%20text%E2%80%9D" class="Link">write me about this</a> or <a href="https://github.com/kizu/kizu.github.com/blob/source/src/documents/posts/2013-04-30-(fun)-rotated-text/index.en.md" class="Link">edit this article on Github</a>.
            </p>
          </aside>
        </div>
      </div>
    </article>
    <footer class="Page-Footer">
      <div class="LiquidLayout">
        <div class="LiquidLayout-Content">
          <nav class="PrevNext"><a href="/en/issues/markdowning-yaml/" class="Link Link_wrapper Link_prev"><span class="Link-Inner">Markdowning YAML for Jekyll</span></a><a href="/en/blog/hello-blog/" class="Link Link_wrapper Link_next"><span class="Link-Inner">“Blog”</span></a>
          </nav>
          <p role="contentinfo" class="Page-Copy"><a href="/en/" class="Link Link_wrapper">© 2017 <span class="Link-Inner">Roman Komarov</span>. </a><a href="https://twitter.com/kizmarh" class="Link Link_wrapper"><span class="Link-Inner">Follow me on twitter</span>!</a>
          </p>
        </div>
      </div>
    </footer>
    <script>var supportsWoff2=function(A){if(!("FontFace"in A)||"function"!=typeof A.FontFace)return!1;var t=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADcAAoAAAAAAggAAACWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABk4ALAoUNAE2AiQDCAsGAAQgBSAHIBtvAcieB3aD8wURQ+TZazbRE9HvF5vde4KCYGhiCgq/NKPF0i6UIsZynbP+Xi9Ng+XLbNlmNz/xIBBqq61FIQRJhC/+QA/08PJQJ3sK5TZFMlWzC/iK5GUN40psgqvxwBjBOg6JUSJ7ewyKE2AAaXZrfUB4v+hze37ugJ9d+DeYqiDwVgCawviwVFGnuttkLqIMGivmDg" ) format( "woff2" )',{});return t.load()["catch"](function(){}),"loading"==t.status||"loaded"==t.status}(this),h=document.getElementsByTagName("head")[0],link=document.createElement("link");link.href="/s/extras"+(supportsWoff2?"2":"")+".css",link.type="text/css",link.rel="stylesheet",h.appendChild(link);
    </script>
    <script src="/j/prism.js"></script>
    <script src="//mc.yandex.ru/metrika/watch.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter632758 = new Ya.Metrika({id:632758, clickmap:true, trackLinks:true, trackHash:true, webvisor:true}); } catch(e) {} }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f); } else { f(); } })(document, window, "yandex_metrika_callbacks");
      //]]>
    </script>
    <noscript><img src="//mc.yandex.ru/watch/632758" style="position:absolute; left:-9990px;" alt=""></noscript>
  </body>
</html>